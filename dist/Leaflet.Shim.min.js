!function(t){var e;if("function"==typeof define&&define.amd)define(["leaflet"],t);else if("undefined"!=typeof module)e=require("leaflet"),module.exports=t(e);else{if("undefined"==typeof window.L)throw"Leaflet must be loaded first";t(window.L)}}(function(t){t.Shim=t.Class.extend({includes:t.Mixin.Events,options:{className:"leaflet-backdrop"},statics:{EVENTS:"click dblclick mouseover mouseout mousemove contextmenu touchstart touchend touchmove"},initialize:function(e){this._anchor=new t.Point(0,0),t.Util.setOptions(this,e)},addTo:function(t){return this._map=t,t.addLayer(this),this},onAdd:function(e){this._container||(this._container=t.DomUtil.create("div",this.options.className),e._panes.popupPane.insertBefore(this._container,e._panes.popupPane.firstChild)),t.DomEvent.on(this._container,t.Shim.EVENTS,this._propagateEvents,this),e.on("zoomend moveend",this._update,this),this._update()},removeFrom:function(t){return t.removeLayer(this),this},_update:function(){var e=this._map.getSize(),i=this._map.containerPointToLayerPoint(this._anchor),n=this._container.style;n.cursor=this._map._container.style.cursor,n.width=e.x+"px",n.height=e.y+"px",t.DomUtil.setPosition(this._container,i)},onRemove:function(){t.DomEvent.off(this._container,t.Shim.EVENTS,this._propagateEvents,this),this._container&&(this._container.parentNode.removeChild(this._container),this._container=null),this._map.off("zoomend moveend",this._update,this)},_propagateEvents:function(t){this._map.fire(t.type,t)}})});